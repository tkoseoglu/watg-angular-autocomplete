/*! watg-angular-autocomplete 2016-02-06 */
!function(){"use strict";angular.module("watgAutocompleteModule",["ngRoute","ngSanitize"])}(),function(){function appConfig($httpProvider,$routeProvider){$httpProvider.defaults.useXDomain=!0,delete $httpProvider.defaults.headers.common["X-Requested-With"],$httpProvider.defaults.headers.get||($httpProvider.defaults.headers.get={}),$httpProvider.defaults.headers.get["If-Modified-Since"]="Mon, 26 Jul 1997 05:00:00 GMT",$routeProvider.when("/test",{templateUrl:"src/app/tests/testView.html",controller:"testController"}).otherwise({redirectTo:"/test"})}function appRun(){}var app=angular.module("watgAutocompleteModule");app.config(appConfig),app.run(appRun)}(),function(){"use strict";function watgAutocompleteOld(){function link(scope,element){console.log(scope.config),console.log(scope.selectedItem),null!==scope.config&&void 0!==scope.config&&void 0!==scope.config.url?$(function(){element.autocomplete({source:function(request,response){$.ajax({url:scope.config.url,dataType:"json",xhrFields:{withCredentials:!0},data:{namePart:request.term},success:function(data){data&&(0===data.length&&scope.selectedItem&&(scope.selectedItem={},scope.$apply()),response($.map(data,function(item){return 1===data.length&&(scope.selectedItem=item,scope.$apply()),{id:item.Id,value:item[scope.config.displayValue],item:item}})))},error:function(data){console.log(data)}})},delay:scope.config.delay,minLength:scope.config.minLength,select:function(event,ui){scope.selectedItem=ui.item.item,scope.$apply()},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all")}})}):console.error("watg-angular-autocomplete: No configuration found")}return{restrict:"A",require:"ngModel",scope:{selectedItem:"=",config:"="},link:link}}angular.module("watgAutocompleteModule").directive("watgAutocompleteOld",watgAutocompleteOld)}(),function(){"use strict";function watgAutocomplete(){function link(scope,element){try{null!==scope.config&&void 0!==scope.config&&void 0!==scope.config.url?element.autocomplete({source:function(request,response){$.ajax({url:scope.config.url,dataType:"json",xhrFields:{withCredentials:!0},data:{namePart:request.term},success:function(data){data&&(0===data.length&&scope.selectedItem&&(scope.selectedItem={},scope.$apply()),response($.map(data,function(item){return 1===data.length&&(scope.selectedItem=item,scope.$apply()),{id:item.Id,value:item[scope.config.displayValue],item:item}})))},error:function(data){console.log(data)}})},delay:scope.config.delay,minLength:scope.config.minLength,select:function(event,ui){scope.selectedItem=ui.item.item,scope.$apply()},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all")}}):console.error("watg-angular-autocomplete: No configuration found")}catch(e){console.error("watg-angular-autocomplete: error "+e)}}return{restrict:"E",require:"ngModel",template:"<input type='text' class='form-control' />",replace:"true",scope:{selectedItem:"=",config:"="},link:link}}angular.module("watgAutocompleteModule").directive("watgAutocomplete",watgAutocomplete)}(),function(){"use strict";function testController($scope){$scope.autoCompleteConfigStaff={url:"http://irv9909zdqzq1/watgxapirest/api/Staff/AutoCompleteStaff",displayValue:"FullName",delay:200,minLength:1},$scope.autoCompleteConfigCountry={url:"http://irv9909zdqzq1/watgxapirest/api/Common/AutoCompleteWatgCountries",displayValue:"Name",delay:200,minLength:1},$scope.staff={},$scope.country={}}angular.module("watgAutocompleteModule").controller("testController",["$scope",testController])}();