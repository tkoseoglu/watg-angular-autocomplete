/*! watg-angular-autocomplete 2016-07-13 */
!function(){"use strict";angular.module("watgAutocompleteModule",[])}(),function(){"use strict";function watgAutocomplete(){function link(scope,element){try{null!==scope.config&&void 0!==scope.config&&void 0!==scope.config.url?(void 0===scope.itemFound&&(scope.itemFound=!0),element.autocomplete({source:function(request,response){var vm={namePart:request.term};$.ajax({url:scope.config.url,dataType:"json",xhrFields:{withCredentials:!0},data:vm,success:function(data){data&&(0===data.length&&(scope.itemFound=!1,scope.$apply()),scope.config.forceSelection&&0===data.length&&scope.selectedItem&&(scope.selectedItem={},scope.$apply()),response($.map(data,function(item){scope.config.forceSelection&&1===data.length&&(scope.selectedItem=item,scope.itemFound=!0,scope.$apply());var value=item[scope.config.displayValue];if(scope.config.displayValue2&&void 0!==item[scope.config.displayValue2]){var value2=item[scope.config.displayValue2];if(null!==value2)if(scope.config.displayValue3&&void 0!==value2[scope.config.displayValue3]){var value3=item[scope.config.displayValue2][scope.config.displayValue3];value+=" ("+value3+")"}else value+=" ("+value2+")"}return{id:item.Id,value:value,item:item}})))},error:function(data){console.log(data)}})},delay:scope.config.delay,minLength:scope.config.minLength,select:function(event,ui){scope.selectedItem=ui.item.item,scope.itemFound=!0,scope.$apply()},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all")}})):console.error("watg-angular-autocomplete: No configuration found")}catch(e){console.error("watg-angular-autocomplete: error "+e)}}return{restrict:"E",require:"ngModel",template:"<input type='text' class='form-control' />",replace:"true",scope:{selectedItem:"=",config:"=",itemFound:"=?",args:"="},link:link}}angular.module("watgAutocompleteModule").directive("watgAutocomplete",watgAutocomplete)}();